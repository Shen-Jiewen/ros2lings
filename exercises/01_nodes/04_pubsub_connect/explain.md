# Pub/Sub 通信 — 发布-订阅模式

## 概念

ROS2 的 Pub/Sub（发布-订阅）模式是最基础的通信方式。
发布者向话题发送消息，订阅者从话题接收消息，两者通过话题名称解耦。

## 通信流程

```
Publisher                 Topic                 Subscriber
   │                      │                        │
   ├──publish(msg)──────►│ "ping"                 │
   │                      │──────callback(msg)────►│
   │                      │                        │
```

## 同一节点中的 Pub/Sub

一个节点可以同时拥有 Publisher 和 Subscription。
这在以下场景很有用：
- 数据转换：订阅原始数据，处理后发布到另一个话题
- 自检测试：发布消息后验证是否能收到
- 中继节点：在不同话题之间转发消息

## 关键点

- 话题名称必须完全匹配，发布者和订阅者才能通信
- 消息类型也必须匹配
- 同一话题可以有多个发布者和多个订阅者
- QoS 设置影响消息的可靠性和持久性
